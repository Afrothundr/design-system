@import '../settings/index.scss';

$alert-padding: $spacer-2;
$alert-bar-size: $spacer-1;
$alert-icon-size: $spacer-5;
// Using darker primary color for alert links to pass contrast on error color
$alert-link-color: $color-primary-darker;
$alert-link-color-hover: $color-primary-darkest;
$alert-link-color-active: $color-primary-darkest;
$alert-link-color-focus: $color-primary-darkest;

.ds-c-alert {
  background-color: $color-primary-alt-lightest;
  border-left: $alert-bar-size solid $color-primary-alt;
  box-sizing: border-box;
  color: $color-base;
  display: flex;
  min-height: $alert-icon-size + $spacer-2;
  padding: $alert-padding;
  position: relative;

  a,
  .ds-c-link {
    color: $alert-link-color;

    &:hover {
      color: $alert-link-color-hover;
    }

    &:focus {
      color: $alert-link-color-focus;
    }

    &:active {
      color: $alert-link-color-active;
    }
  }

  ul {
    &:last-child {
      margin-bottom: 0;
    }

    &:first-child {
      margin-top: 0;
    }
  }

  /* stylelint-disable */
  @media (-ms-high-contrast: active), (forced-colors: active) {
    border-top: 1px solid windowText;
    border-right: 1px solid windowText;
    border-bottom: 1px solid windowText;
    border-left: $alert-bar-size solid windowText;
  }
  /* stylelint-enable */

  &.ds-c-alert--lightweight {
    background-color: $color-white;
  }
}

.ds-c-alert__icon {
  font-size: $font-size-lg;
  margin-left: $spacer-1;
}

// Conditionally remove prefix if SVG icon is present
.ds-c-alert__icon + .ds-c-alert__body .ds-c-alert__heading,
.ds-c-alert__icon + .ds-c-alert__body .ds-c-alert__text:first-of-type {
  @include high-contrast-mode-label-remove;
}

.ds-c-alert__body {
  padding-left: $spacer-2;
}

.ds-c-alert--hide-icon .ds-c-alert__body {
  padding-left: 0;
}

.ds-c-alert__heading {
  font-size: $font-size-lg;
  font-weight: $font-bold;
  margin-bottom: $spacer-half;
  margin-top: 0;

  @include high-contrast-mode-label-add('Notice');
}

// Conditionally remove prefix if heading is present
.ds-c-alert__heading + .ds-c-alert__text:first-of-type {
  @include high-contrast-mode-label-remove;
}

.ds-c-alert__text {
  margin-bottom: 0;
  margin-top: 0;

  &:first-of-type {
    @include high-contrast-mode-label-add('Notice');
  }

  .ds-c-alert--error &:first-of-type {
    @include high-contrast-mode-label-add('Error');
  }

  .ds-c-alert--warn &:first-of-type {
    @include high-contrast-mode-label-add('Warning');
  }

  .ds-c-alert--success &:first-of-type {
    @include high-contrast-mode-label-add('Success');
  }
}

.ds-c-alert--error {
  background-color: $color-error-lightest;
  border-color: $color-error;

  .ds-c-alert__heading {
    @include high-contrast-mode-label-add('Error');
  }
}

.ds-c-alert--warn {
  background-color: $color-warn-lightest;
  border-color: $color-warn;

  .ds-c-alert__heading {
    @include high-contrast-mode-label-add('Warning');
  }
}

.ds-c-alert--success {
  background-color: $color-success-lightest;
  border-color: $color-success;

  .ds-c-alert__heading {
    @include high-contrast-mode-label-add('Success');
  }
}
